<!DOCTYPE html>
<html>
  <head>
    <title>LED Control</title>
    <style>
      body { font-family: sans-serif; text-align: center; margin-top: 40px; }
      input[type="color"] { width: 100px; height: 100px; border: none; }
      button { margin: 10px; padding: 10px 20px; font-size: 16px; }
    </style>
  </head>
  <body>
    <h1>Adjust LED</h1>

    <div>
      <input type="color" id="colorPicker" value="#ff0000" />
      <button id="setColor">Set Color</button>
      <button id="rainbow">Rainbow Mode</button>
    </div>

    <script>
      document.getElementById("setColor").onclick = async () => {
        const color = document.getElementById("colorPicker").value;
        const r = parseInt(color.substr(1, 2), 16);
        const g = parseInt(color.substr(3, 2), 16);
        const b = parseInt(color.substr(5, 2), 16);

        await fetch("/api/led", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ mode: "color", color: `${r},${g},${b}` }),
        });
      };

      document.getElementById("rainbow").onclick = async () => {
        await fetch("/api/led", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ mode: "rainbow" }),
        });
      };
    </script>
  </body>
</html>
